{
  "name": "Postfix",
  "description": null,
  "pages": [
    {
      "name": "Overview",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 2,
            "height": 2
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "![Postfix logo](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTdFCHLUmxMKFYGZz8WtfWPQ6e022rAm5lEFxU39cIZigy4KU_wS-NWVjjVWGwqwzx1gY8&usqp=CAU)"
          }
        },
        {
          "title": "Postfix Up",
          "layout": {
            "column": 3,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "colors": {
              "seriesOverrides": [
                {
                  "color": "#1d8b3e",
                  "seriesName": "Postfix Up"
                }
              ]
            },
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(postfix_up) FROM `unixMonitor:postfix_serviceUp` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Message(s) Received",
          "layout": {
            "column": 7,
            "row": 1,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(received) AS 'Received - received emails by a person' FROM  `unixMonitor:postfix_messagesTotalRecords` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Message(s) Delivered",
          "layout": {
            "column": 10,
            "row": 1,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(delivered) AS 'Delivered - emails sent to recipient' FROM  `unixMonitor:postfix_messagesTotalRecords` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 3,
            "width": 2,
            "height": 2
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "**About**\n\nInstrument your application with New Relic - [Add Data](https://docs.newrelic.com/)\n\n[Please rate this dashboard](https://docs.google.com/forms/d/e/1FAIpQLSclR38J8WbbB2J1tHnllKUkzWZkJhf4SrJGyavpMd4t82NjnQ/viewform?usp=pp_url&entry.1615922415=Postfix) here and let us know how we can improve it for you.\n"
          }
        },
        {
          "title": "Bounced Non-delivery Notifications",
          "layout": {
            "column": 3,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "colors": {
              "seriesOverrides": [
                {
                  "color": "#b02727",
                  "seriesName": "Bounce Notification Count"
                }
              ]
            },
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(bounce_notification_count) FROM `unixMonitor:postfix_bounce_nonDeliveryNotification_today` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Message(s) Deferred",
          "layout": {
            "column": 7,
            "row": 4,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(deferred) AS 'Deferred - message delayed to later time or date' FROM  `unixMonitor:postfix_messagesTotalRecords` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Message(s) Bounced",
          "layout": {
            "column": 10,
            "row": 4,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(bounced) As 'Bounced - failed emails' FROM `unixMonitor:postfix_messagesTotalRecords` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Total Message(s) in Mail Queue",
          "layout": {
            "column": 1,
            "row": 5,
            "width": 2,
            "height": 2
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(`unixMonitor:postfix_qmgr_messages_inserted_total`.qmgr_messages_inserted) AS 'Inserted in Mail Queue', latest(`unixMonitor:postfix_qmgr_messages_removed_total`.qmgr_messages_removed) AS 'Removed from Mail Queue' from `unixMonitor:postfix_qmgr_messages_inserted_total`, `unixMonitor:postfix_qmgr_messages_removed_total`"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "SASL Authentication Failed",
          "layout": {
            "column": 1,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "colors": {
              "seriesOverrides": [
                {
                  "color": "#c93636",
                  "seriesName": "Smtp Authfailed Count"
                }
              ]
            },
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(smtp_authfailed_count) FROM `unixMonitor:postfix_smtp_authFailed_today` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Today Bytes Received Vs Delivered",
          "layout": {
            "column": 5,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(bytesReceived) as 'Bytes Received', latest(bytesDelivered) as 'Bytes Delivered' FROM `unixMonitor:postfix_messagesTodayRecords` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Messages(s) Held",
          "layout": {
            "column": 9,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(held_message) AS 'Held - Temporarily suspended messages from delivery.' FROM `unixMonitor:postfix_held` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    },
    {
      "name": "Message Traffic Report",
      "description": null,
      "widgets": [
        {
          "title": "Message Per-Day Traffic Summary",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 12,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "dataFormatters": [],
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(received.perday) AS 'received', latest(delivered.perday) as 'delivered',   latest(deferred.perday) as 'deferred', latest(bounced.perday) as 'bounced', latest(rejected.perday) as 'rejected' from `unixMonitor:postfix_perDayTrafficSummary` FACET dateOf(timestamp) as 'Dates' order by average(timestamp)"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Message Per-Hour Traffic Summary",
          "layout": {
            "column": 1,
            "row": 4,
            "width": 12,
            "height": 5
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "dataFormatters": [],
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(received.perhour) As 'Received', latest(delivered.perhour) As 'Delivered',   latest(deferred.perhour) As 'Deferred', latest(bounced.perhour) As 'Bounced',latest(rejected.perhour) As 'Rejected' FROM `unixMonitor:postfix_perHourTrafficForToday` LIMIT 24 facet instance AS 'Hours' order by average(timestamp)"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    },
    {
      "name": "Email Delivery Process",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "## Email Delivery Process\n#### Pickup Process  ->  Cleanup Process  ->  Inserted into Mail Queue  ->  SMTP Process (sent, bounced, deferred) or local  ->  Removed from Mail Queue"
          }
        },
        {
          "title": "Step 1 : Message(s) Pickup to Deliver",
          "layout": {
            "column": 1,
            "row": 2,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(pickup_count) AS 'Pickup process to ensure timely delivery of email messages.' FROM `unixMonitor:postfix_pickup_process_today` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Step 2 : Message(s) Processed by Cleanup",
          "layout": {
            "column": 7,
            "row": 2,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(cleanup_process_count) AS 'Here, emails are sanitised after analysing headers, content, and attachments before passing to the next level.' FROM `unixMonitor:postfix_cleanup_process_today` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Step 3 : Message(s) Inserted into Mail Queue Storage",
          "layout": {
            "column": 1,
            "row": 5,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(qmgr_messages_inserted) AS 'Temporary storage location where emails are stored until they can be processed and delivered.' FROM `unixMonitor:postfix_qmgr_messages_inserted_today` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Step 4 : Number of Message(s) Handled by the SMTP Process",
          "layout": {
            "column": 6,
            "row": 5,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(`unixMonitor:postfix_smtp_messages_bounced_today`.smtp_bounced) AS 'Bounced',latest(`unixMonitor:postfix_smtp_messages_sent_today`.smtp_sent) AS 'Sent', latest(`unixMonitor:postfix_smtp_messages_deferred_today`.smtp_deferred) AS 'Deferred' FROM `unixMonitor:postfix_smtp_messages_bounced_today`,`unixMonitor:postfix_smtp_messages_sent_today`,`unixMonitor:postfix_smtp_messages_deferred_today` "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Step 5 : Message(s) Removed from Mail Queue Storage",
          "layout": {
            "column": 8,
            "row": 5,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(qmgr_messages_removed) AS 'After the message(s) are processed or delivered, they can be removed from the queue.' FROM `unixMonitor:postfix_qmgr_messages_removed_today` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        }
      ]
    },
    {
      "name": "Header Info",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "## Sender(s) and Recipient(s) with Host(s)/Domain(s)\nFind detailed insights about headers that convey important information about the email’s origin and destination."
          }
        },
        {
          "title": "Total Number of Senders with Domains Count",
          "layout": {
            "column": 1,
            "row": 2,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(senders), latest(`sendingHosts/domains`) FROM `unixMonitor:postfix_messagesTotalRecords` TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Latest Messages Received Host/Domain",
          "layout": {
            "column": 5,
            "row": 2,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(instance) as 'message count', latest(bytes) FROM `unixMonitor:postfix_messagesReceivedHostDomainSummary` FACET hostordomain AS 'Host'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Senders by Message Count",
          "layout": {
            "column": 9,
            "row": 2,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(instance) FROM `unixMonitor:postfix_sendersbyMessageCountToday` LIMIT 5 FACET sendersbymessagecount"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Latest Number of Senders with Domains Count",
          "layout": {
            "column": 1,
            "row": 5,
            "width": 6,
            "height": 2
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(senders), latest(`sendingHosts/domains`) FROM  `unixMonitor:postfix_messagesTodayRecords`"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": [
              {
                "value": 0
              }
            ]
          }
        },
        {
          "title": "Latest  Number of Recipients with Domains Count",
          "layout": {
            "column": 7,
            "row": 5,
            "width": 6,
            "height": 2
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(recipients), latest(`recipientHosts/domains`) FROM `unixMonitor:postfix_messagesTodayRecords`"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": [
              {
                "value": 0
              }
            ]
          }
        },
        {
          "title": "Total Number of Recipients with Domains Count",
          "layout": {
            "column": 1,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(recipients), latest(`recipientHosts/domains`) FROM `unixMonitor:postfix_messagesTotalRecords` TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Latest Message Delivery Host/Domain",
          "layout": {
            "column": 5,
            "row": 7,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(instance) as 'sent', latest(bytes), latest(defers), latest(avg_daily), latest(max_daily) FROM `unixMonitor:postfix_messageDeliveryHostDomainSummaryToday` FACET hostordomain AS 'Host'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Recipients by Message Count",
          "layout": {
            "column": 10,
            "row": 7,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(instance) FROM `unixMonitor:postfix_recipientsByMessageCountToday` FACET recipientsbymessagecount"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    },
    {
      "name": "Queue Monitoring",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "## Queue Monitoring\nMonitoring the Postfix mail queue involves keeping a close check on it and scanning for any anomalies or deviations. There are several ways to track delivery, including looking at the queue size, mail delivery logs, the state of the delivery process, and the server's resources."
          }
        },
        {
          "title": "Total Message(s) in bytes",
          "layout": {
            "column": 1,
            "row": 2,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(bytesDelivered) AS 'Delivered (bytes/sec)', latest(bytesReceived) AS 'Received (bytes/sec)' FROM `unixMonitor:postfix_messagesTotalRecords` TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Total Message(s) in Mail Queues",
          "layout": {
            "column": 7,
            "row": 2,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(`unixMonitor:postfix_qmgr_messages_inserted_total`.qmgr_messages_inserted) AS 'Inserted Total', latest(`unixMonitor:postfix_qmgr_messages_removed_total`.qmgr_messages_removed) AS 'Removed Total' from `unixMonitor:postfix_qmgr_messages_inserted_total`,`unixMonitor:postfix_qmgr_messages_removed_total` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        }
      ]
    },
    {
      "name": "Logs",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "## Logs - Errors & Warnings\n\nPostfix provides robust logging capabilities, allowing administrators to track and monitor email traffic, diagnose issues, and ensure smooth mail delivery."
          }
        },
        {
          "title": "Mail Log",
          "layout": {
            "column": 1,
            "row": 2,
            "width": 12,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "logger.log-table-widget"
          },
          "rawConfiguration": {
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT message FROM Log where logtype = 'postfix_maillog' LIMIT MAX"
              }
            ]
          }
        },
        {
          "title": "Top Errors (Overall)",
          "layout": {
            "column": 1,
            "row": 5,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(instance) As 'Total Number of Error Messages With Count' FROM `unixMonitor:postfix_errorsTotal` LIMIT 10 FACET error_message"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Latest Errors",
          "layout": {
            "column": 7,
            "row": 5,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(instance) As 'Count' FROM `unixMonitor:postfix_errorsLatest` LIMIT 5 FACET error_message"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Top Warnings",
          "layout": {
            "column": 1,
            "row": 8,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(instance) FROM `unixMonitor:postfix_warningsTotal` FACET warning_message"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Latest Warnings",
          "layout": {
            "column": 7,
            "row": 8,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(instance) as 'Message count' FROM `unixMonitor:postfix_warningsLatest` FACET warning_message"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 11,
            "width": 8,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "### Daemon Messages with Number of Occurrences\nA daemon is a background process that runs continuously to perform specific tasks. It generates log messages to report its activities, status, and any errors that may have occurred during the process."
          }
        },
        {
          "title": "Message Bounce Details",
          "layout": {
            "column": 9,
            "row": 11,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM `unixMonitor:postfix_messageBounceDetails` SELECT latest(instance) AS 'count' SINCE last week FACET bounce_details"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 12,
            "width": 8,
            "height": 2
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(instance) AS 'Daemon message count' FROM `unixMonitor:postfix_masterDaemonMessages` FACET daemon_messages"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Plugin Log",
          "layout": {
            "column": 1,
            "row": 14,
            "width": 12,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "logger.log-table-widget"
          },
          "rawConfiguration": {
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT message FROM Log where logtype = 'newrelic_unixmonitor_plugin' LIMIT MAX"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Connections",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "## Connection(s) with Postfix Service\nConnection event are logged if other mail services connect to or disconnect from the Postfix service."
          }
        },
        {
          "title": "SMTPD Connection(s)",
          "layout": {
            "column": 1,
            "row": 2,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(`unixMonitor:postfix_SMTPDConnectionsToday`.smtpd_connections) AS 'Today', latest(`unixMonitor:postfix_SMTPDConnectionsTotal`.smtpd_connections) AS 'Total' FROM `unixMonitor:postfix_SMTPDConnectionsToday`,`unixMonitor:postfix_SMTPDConnectionsTotal` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "SMTPD Disonnection(s)",
          "layout": {
            "column": 6,
            "row": 2,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(`unixMonitor:postfix_SMTPDdisconnectionsToday`.smtpd_disconnections) AS 'Today', latest(`unixMonitor:postfix_SMTPDdisconnectionsTotal`.smtpd_disconnections) AS 'Total' FROM `unixMonitor:postfix_SMTPDdisconnectionsToday`, `unixMonitor:postfix_SMTPDdisconnectionsTotal` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Connection(s)",
          "layout": {
            "column": 10,
            "row": 2,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "colors": {
              "seriesOverrides": [
                {
                  "color": "#c62a2a",
                  "seriesName": "Connection(s) Timed Out"
                },
                {
                  "color": "#59e87d",
                  "seriesName": "Connection(s) Lost"
                }
              ]
            },
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(`unixMonitor:postfix_SMTPD_timedOutAfterConnectToday`.connection_timedout_count) AS 'Connection(s) Timed Out', latest(`unixMonitor:postfix_SMTPD_lostConnectionToday`.lost_connections_count) AS 'Connection(s) Lost' FROM `unixMonitor:postfix_SMTPD_timedOutAfterConnectToday`, `unixMonitor:postfix_SMTPD_lostConnectionToday` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "SMTP Connection(s)",
          "layout": {
            "column": 1,
            "row": 5,
            "width": 7,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(`unixMonitor:postfix_SMTPConnectionsToday`.smtp_connections) AS 'Today', latest(`unixMonitor:postfix_SMTPConnectionsTotal`.smtp_connections) AS 'Total' FROM `unixMonitor:postfix_SMTPConnectionsToday`,`unixMonitor:postfix_SMTPConnectionsTotal` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "SMTP Disconnection(s)",
          "layout": {
            "column": 8,
            "row": 5,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(`unixMonitor:postfix_SMTP_disconnectionsToday`.smtp_disconnections) AS 'Today', latest(`unixMonitor:postfix_SMTP_disconnectionsTotal`.smtp_disconnections) AS 'Total' FROM `unixMonitor:postfix_SMTP_disconnectionsToday`,`unixMonitor:postfix_SMTP_disconnectionsTotal` TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        }
      ]
    },
    {
      "name": "Infrastructure Monitoring",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "## Infrastructure Monitoring\n\nUse the Infra Agent from New Relic to track host-related information in real time. Whether it is operating on dedicated servers, in the cloud, or in containers, the full infrastructure can be observed."
          }
        },
        {
          "title": "CPU Usage (%)",
          "layout": {
            "column": 1,
            "row": 2,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT latest(host.cpuPercent) AS 'CPU Usage (%)', latest(host.cpuIdlePercent) AS 'CPU Idle (%)' TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Memory Usage (%)",
          "layout": {
            "column": 5,
            "row": 2,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM Metric SELECT latest(host.memoryUsedPercent) AS 'Memory Used (%)', latest(host.memoryFreePercent) AS 'Memory Free (%)' TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Storage Usage (%)",
          "layout": {
            "column": 9,
            "row": 2,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Metric SELECT latest(host.disk.usedPercent) AS 'Storage Used (%)', latest(host.disk.freePercent) AS 'Storage Free (%)' TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Network traffic",
          "layout": {
            "column": 1,
            "row": 5,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT average(host.net.transmitBytesPerSecond) AS 'Transmit bytes per second', average(host.net.receiveBytesPerSecond) AS 'Receive bytes per second' FROM Metric TIMESERIES auto"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Load Average",
          "layout": {
            "column": 4,
            "row": 5,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT average(host.loadAverageOneMinute) as '1 minute', average(host.loadAverageFiveMinute) AS '5 minutes', average(host.loadAverageFifteenMinute) AS '15 minutes' FROM Metric TIMESERIES auto"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Processes Running",
          "layout": {
            "column": 8,
            "row": 5,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(host.process.cpuPercent) as 'CPU %', latest(host.process.threadCount) as 'Threads' FROM Metric FACET processId, processDisplayName ORDER BY cpuPercent asc LIMIT 100"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    },
    {
      "name": "Alerts",
      "description": null,
      "widgets": [
        {
          "title": "Connection(s) Timed Out",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(`unixMonitor:postfix_SMTPD_timedOutAfterConnectToday`.connection_timedout_count) AS 'Connection(s) Timed Out' FROM `unixMonitor:postfix_SMTPD_timedOutAfterConnectToday`"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": [
              {
                "alertSeverity": "CRITICAL",
                "value": 3
              },
              {
                "alertSeverity": "WARNING",
                "value": 0
              }
            ]
          }
        },
        {
          "title": "Connection(s) Lost",
          "layout": {
            "column": 4,
            "row": 1,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(`unixMonitor:postfix_SMTPD_lostConnectionToday`.lost_connections_count) AS 'Connection(s) Lost' FROM `unixMonitor:postfix_SMTPD_lostConnectionToday`"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": [
              {
                "alertSeverity": "CRITICAL",
                "value": 3
              },
              {
                "alertSeverity": "WARNING",
                "value": 0
              }
            ]
          }
        },
        {
          "title": "Bounced Non-Delivery Notifications",
          "layout": {
            "column": 7,
            "row": 1,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(bounce_notification_count) as 'Bounced Non-Delivery Notifications' FROM `unixMonitor:postfix_bounce_nonDeliveryNotification_today`"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": [
              {
                "alertSeverity": "CRITICAL",
                "value": 3
              },
              {
                "alertSeverity": "WARNING",
                "value": 0
              }
            ]
          }
        },
        {
          "title": "SASL Authentication Failed",
          "layout": {
            "column": 10,
            "row": 1,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "SELECT latest(smtp_authfailed_count) AS 'SASL Authentication Failed' FROM `unixMonitor:postfix_smtp_authFailed_today`"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": [
              {
                "alertSeverity": "CRITICAL",
                "value": 3
              },
              {
                "alertSeverity": "WARNING",
                "value": 0
              }
            ]
          }
        }
      ]
    }
  ],
  "variables": []
}